<!doctype html>

<html>

  <head>
    <title>Добавление слов</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <style type="text/css">
      body {
        padding-top: 50px;
        padding-bottom: 20px;
      }
    </style>
  </head>

    <script type="application/javascript">
    function validate()
    {
        words = document.getElementById("words").value;
        if (words.length > 33000)
            document.getElementById("alertion").innerHTML = "<strong> Внимание! Текст слишком большой!";
        else
            document.getElementById("alertion").innerHTML = "";
        var separated_words = words.split("\n");
        var check_ok = 1;
        for (var i = 0; i < separated_words.length; i = i + 1)
        {
            // alert((separated_words[i].split(" ").length - 1));
            if ((separated_words[i].split(" ").length - 1) > 0)
            {
                check_ok = 0;
            }
        }
        if (check_ok == 0)
        {
            document.getElementById("words").style.color = "red";
            document.getElementById("sendbutton").style.display = "none";
        }
        else
        {
            document.getElementById("words").style.color = "green";
            document.getElementById("sendbutton").style.display = "block";
        }
    }
</script>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Sombrero</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li>
              <a href="/admin/dictionary/add">Добавление слов</a>
            </li>
            <li>
              <a href="/global/edit/0">Редактирование словаря</a>
            </li>
            <li>
              <a href="/admin/streams">Потоки слов</a>
            </li>
             <li>
              <a href="/admin/complain/list">Жалобы на слова</a>
            </li>
          </ul>
          <form class="navbar-form navbar-right">
            <div class="form-group"></div>
            <div class="form-group"></div>
            <button type="submit" class="btn btn-success">Sign in</button>
          </form>
        </div>
        <!--/.navbar-collapse -->
      </div>
    </div>
    <div class="container">

   <td align="center" width=80%> <strong> При помощи этой формочки Вы можете добавить слова в словарь "Шляпы". Обратите вниание,
        нельзя за один раз отправлять более 100 килобайт (около 2000 слов) </strong> </td>
    <center>
        <form method="post" action="/edit_words">
        <div>
            <br/> <textarea class="form-control" name="text" rows="30" onchange="validate()" onkeyup="validate()" id="words"></textarea>
        </div>
        <div id="sendbutton">
        <div id="alertion"></div>
        <input type="submit" value="Send"/>
        </div>
        <input type="submit" value="Cancel"
               onclick="window.location='/'; return false;"/>
    </form>
    </center>
    {% if error is defined %}
        <p>
            {{ error }}
        </p>
    {% endif %}
    </td>
     </div>
    <center>
        <td width="34%" align="center">Обратите внимание, что каждое слово должно быть на своей отдельной строке <br>
Если формочка подсвечена зеленым, все правильно, если красным - значит, формат нарушен. </td> </tr> </table>
        </center>
  </body>

</html>